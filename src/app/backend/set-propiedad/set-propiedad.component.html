<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="openMenu()">
        <ion-icon slot="icon-only" name="menu-sharp"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Propiedad</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="main_content_div">
   
      <ion-card-header *ngIf="enablelista">
        <ion-button (click)="bntNuevo()" >
          <ion-label>Nuevo</ion-label>
          <ion-icon name="add"></ion-icon>
        </ion-button>
      </ion-card-header>
      <ion-card-content>
        <!--contenedor de agregar-->
        <div *ngIf="enableNewPropiedad">
          <ion-item>

            <ion-button slot="end" (click)="enableNewPropiedad = false " (click)="enablelista = true ">
            <ion-label>cancelar</ion-label>
            <ion-icon name="close"></ion-icon>
            </ion-button>

          </ion-item>
          <ion-item>
            
              <ion-col size="auto">
                <ion-label  >Nombre Propiedad</ion-label>
              </ion-col>
              <ion-col  >
                <ion-input [(ngModel)]="newPropiedad.nombre"  placeholder="Nombre" name="Nombre" type="text" inputmode="text"></ion-input>
              </ion-col>  
          </ion-item>
          <ion-item>
            <ion-label >comuna</ion-label>
            <ion-select  [(ngModel)]="newPropiedad.comuna" label="Popover" interface="popover">
              <ion-select-option value="Santiago">Santiago</ion-select-option>
              <ion-select-option value="Huechuraba">Huechuraba</ion-select-option>
              <ion-select-option value="Independencia">Independencia</ion-select-option>
              <ion-select-option value="Quilicura">Quilicura</ion-select-option>
              <ion-select-option value="Recoleta">Recoleta</ion-select-option>
              <ion-select-option value="Renca">Renca</ion-select-option>
              <ion-select-option value="Las Condes">Las Condes</ion-select-option>
              <ion-select-option value="Lo Barnechea">Lo Barnechea</ion-select-option>
              <ion-select-option value="Providencia">Providencia</ion-select-option>
              <ion-select-option value="Vitacura">Vitacura</ion-select-option>
              <ion-select-option value="La Reina">La Reina</ion-select-option>
              <ion-select-option value="Macul">Macul</ion-select-option>
              <ion-select-option value="Conchalí">Conchalí</ion-select-option>
            </ion-select>
         
          </ion-item>
          <ion-item><ion-col size="auto">
            <ion-label>Direccion</ion-label></ion-col><ion-col >
            <ion-input [(ngModel)]="newPropiedad.direccion" placeholder="av. ejemplo" type="text" inputmode="text">
            </ion-input></ion-col>
          </ion-item>
          <ion-item>
            <ion-label >Tipo</ion-label>
            <ion-select [(ngModel)]="newPropiedad.tipo" label="Popover" interface="popover" placeholder="Casa/depto">
              <ion-select-option value="casa">Casa</ion-select-option>
              <ion-select-option value="depto">Departamento</ion-select-option>
            </ion-select>
          </ion-item>
          <ion-item>  <ion-col size="auto">
            <ion-label>numero</ion-label></ion-col><ion-col size="auto"></ion-col>
            <ion-col >
            <ion-input [(ngModel)]="newPropiedad.numero" type="number" >
            </ion-input></ion-col>
          </ion-item>

          <ion-item> 
            <ion-col size="auto">
            <ion-label >contacto</ion-label>
            </ion-col>
            <ion-col>
            <ion-input [(ngModel)]="newPropiedad.contacto" placeholder="persona ejemplo" type="text" inputmode="text"></ion-input>
            </ion-col>
          </ion-item>
          <ion-item>
            <ion-col size="auto">
            <ion-label >Telefono</ion-label></ion-col>
            <ion-col>
            <ion-input [(ngModel)]="newPropiedad.telefono" placeholder="+569 000 000" type="phone"></ion-input>
          </ion-col>
          </ion-item>
          <ion-item class="ion-padding">
          <ion-col>
          <ion-button (click)="guardarPropiedad()"  (click)="enableNewPropiedad = false " (click)="enablelista = true " expand="block" >Guardar</ion-button>
        </ion-col>
        </ion-item>
        
        </div>
        <!--listas de propiedades Cascada-->

        
        <ion-accordion-group *ngIf="enablelista" [multiple]="true" [value]="['first', 'third']" >
          <ion-accordion *ngFor="let P of Propiedades">
          <ion-item slot="header" >  
              

            <ion-grid [fixed]="true">
              <ion-row>
                <ion-col size="auto"><ion-icon name="home"></ion-icon></ion-col>
                <ion-col size="auto"><ion-label>{{P.tipo}}</ion-label></ion-col>
                <ion-col size="auto"><ion-label>{{P.numero}}</ion-label></ion-col>
                <ion-col size="auto"><ion-label>{{P.direccion}}</ion-label></ion-col>
                <ion-col size="auto"><ion-label>{{P.comuna}}</ion-label></ion-col>
              </ion-row>
              <ion-row>
                <ion-col size="auto"><ion-icon name="person-circle" style="margin: 5px;"></ion-icon></ion-col>
                <ion-col size="auto"><ion-label>{{P.contacto}}</ion-label></ion-col>
                <ion-col size="auto"><ion-icon name="call"></ion-icon></ion-col>
                <ion-col size="auto"><ion-label>{{P.telefono}}</ion-label></ion-col>
              </ion-row>
            </ion-grid>
            </ion-item>
            <ion-item  slot="content">
                 <ion-col >
                      <ion-button (click)="go()" color="primary" size="small" style="margin: 5px;">
                      <ion-icon name="cash-outline" style="margin: 5px;"></ion-icon><ion-label>Cuentas</ion-label>
                      </ion-button>
                      <ion-button (click)="go()" color="secondary" size="small" style="margin: 5px;">
                      <ion-icon name="archive-outline" style="margin: 5px;"></ion-icon><ion-label>Tareas</ion-label>
                      </ion-button>
                      <ion-button (click)="newPropiedad = P; enableNewPropiedad = true; enablelista = false " color="warning" size="small" style="margin: 5px;">
                      <ion-icon name="create-outline"></ion-icon>
                      </ion-button>
                      <ion-button (click)="deletePropiedad(P)" color="danger" size="small" style="margin: 5px;">
                      <ion-icon name="trash-outline"></ion-icon>
                      </ion-button>
                  </ion-col>
            </ion-item>
          </ion-accordion>
        </ion-accordion-group>
      </ion-card-content>
  </div>
</ion-content>
